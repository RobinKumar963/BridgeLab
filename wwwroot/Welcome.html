<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
</head>
<body>
    <p align="left">
        <input type="button" value="Update" class="btnSubmit" id="update" />
    </p>
    <p align="right">
        <input type="button" value="Delete" class="btnSubmit" id="delete" />
    </p>




    <div id="updatesec" hidden="hidden">

        <form method="post">


            EmployeeName:
            <input type="text" name="username" id="username" />
            <br /><br />

            Password:
            <input type="text" name="password" id="password" />
            <br /><br />


            EmployeeCity:
            <input type="text" name="city" id="city" />
            <br /><br />

            EmployeeAddress:
            <input type="text" name="address" id="address" />
            <br /><br />

            <input type="button" value="Confirm" class="btnSubmit" id="confirm" />
        </form>


    </div>





    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js">
    </script>
    <script type="text/javascript">
        $(function () {

                const queryString = window.location.search;
                const urlParams = new URLSearchParams(queryString);
                
                const id = urlParams.get('id');
                
                const name = urlParams.get('name');
                const city = urlParams.get('city');
                const address = urlParams.get('address');

            $("#delete").click(function () {

               

                var formData = new FormData();
                formData.append("id", id);
                $.ajax({
                    url: "/Delete",
                    type: 'Delete',
                    cache: false,
                    contentType: false,
                    processData: false,
                    data: formData,
                    success: function (response) {
                        
                        alert("YOUR ACCOUNT REMOVED SUCCESSFULLY...........");

                        window.location = 'Index.html';

                    }
                    ,
                    error: function (err) {
                        alert(err);
                    }


                });












            });

            $("#update").click(function () {
                $("#updatesec").show();
            });

















            $("#confirm").click(function () {




                

                const queryString = window.location.search;
                const urlParams = new URLSearchParams(queryString);
                
                const id = urlParams.get('id');
                
                const name = urlParams.get('name');
                const city = urlParams.get('city');
                const address = urlParams.get('address');

                var formData = new FormData();

                formData.append("id", id);
                formData.append("password", $("#password").val());
                formData.append("name", $("#username").val());
                formData.append("city", $("#city").val());
                formData.append("address", $("#address").val());
                $.ajax({
                    url: "/Update",
                    type: 'put',
                    cache: false,
                    contentType: false,
                    processData: false,
                    data: formData,
                    success: function (response) {
                        $("#loaderDiv").show();
                        alert("EMPLOYEE UPDATED SUCCESSFULL");

                    }

                    ,
                    error: function (err) {
                        alert(err);
                    }


                });
            });
        });
    </script>


</body>
</html>